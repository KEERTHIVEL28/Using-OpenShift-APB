You will need a RHEL host. I am using a RHEL7 vm spun up using Virtual box.
Install apb


subscription-manager repos --enable="rhel-7-server-ose-3.7-rpms"
  yum install apb
  apb init my-test-apb
  ls
  cd my-test-apb/
  apb prepare

oc login https://master.devday.ocpcloud.com:443 -u veer 
oc whoami -t

registry is exposed by default as secured registry in 3.7
# oc get route
NAME               HOST/PORT                                           PATH      SERVICES           PORT      TERMINATION   WILDCARD
docker-registry    docker-registry-default.apps.devday.ocpcloud.com              docker-registry    <all>     passthrough   None
registry-console   registry-console-default.apps.devday.ocpcloud.com             registry-console   <all>     passthrough   None



Login to Docker Registry;

Copy ca.crt from /etc/origin/master/ca.crt
to the host where you want to login from

to here
# ls /etc/docker/certs.d/docker-registry-default.apps.devday.ocpcloud.com/
ca.crt


# docker login -u veer -p _IdehUBCC-vgL6bMy6p2Wmii_KgFCiOblsGDxc_jUHo docker-registry-default.apps.devday.ocpcloud.com
Login Succeeded

# apb build --registry docker-registry-default.apps.devday.ocpcloud.com
Finished writing dockerfile.
Building APB using tag: [docker-registry-default.apps.devday.ocpcloud.com/my-test-apb]
Successfully built APB image: docker-registry-default.apps.devday.ocpcloud.com/my-test-apb

# docker images
REPOSITORY                                                     TAG                 IMAGE ID            CREATED             SIZE
docker-registry-default.apps.devday.ocpcloud.com/my-test-apb   latest              048260e48099        13 hours ago        651.1 MB
my-test-apb                                                    latest              048260e48099        13 hours ago        651.1 MB
docker.io/ansibleplaybookbundle/apb-base                       latest              6f4ec9f19c82        3 days ago          651.1 MB
veermuchandi/atomic-tomcat                                     latest              ee044be8f9aa        3 months ago        462.6 MB
registry.access.redhat.com/rhel7-atomic                        latest              68a151d90449        4 months ago        78.4 MB


